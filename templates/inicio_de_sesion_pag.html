{% extends "base.html" %}
{% load widget_tweaks %}

{% block title %}Iniciar Sesión{% endblock %}

{% block content %}

<style>
  body {
    background: linear-gradient(135deg, #1a1a40, #3f51b5);
    min-height: 100vh;
  }

  .card {
    border: none;
    border-radius: 15px;
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
  }

  .card-body {
    padding: 2rem;
  }

  h2 {
    color: #3f51b5;
    font-weight: bold;
  }

  .form-label {
    font-weight: 500;
  }

  .btn-primary {
    background-color: #3f51b5;
    border: none;
    transition: 0.3s ease-in-out;
  }

  .btn-primary:hover {
    background-color: #2c3e9b;
    transform: scale(1.02);
  }

  .text-center a {
    color: #3f51b5;
    text-decoration: none;
    font-weight: 500;
  }

  .text-center a:hover {
    text-decoration: underline;
  }
</style>

<div class="container d-flex align-items-center justify-content-center" style="min-height: 85vh;">
  <div class="col-md-5">
    <div class="card">
      <div class="card-body">
        <h2 class="text-center mb-4">Iniciar Sesión</h2>

        <!-- Mensajes de Django -->
        {% if messages %}
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }} text-center" role="alert">
          {{ message }}
        </div>
        {% endfor %}
        {% endif %}

        <form method="post" novalidate>
          {% csrf_token %}

          <!-- Campo de correo -->
          <div class="mb-3">
            <label for="{{ form.gmail.id_for_label }}" class="form-label">Correo electrónico</label>
            {% if form.gmail.errors %}
            {{ form.gmail|add_class:"form-control is-invalid" }}
            {% else %}
            {{ form.gmail }}
            {% endif %}
            {% for error in form.gmail.errors %}
            <div class="invalid-feedback d-block">{{ error }}</div>
            {% endfor %}
          </div>

          <!-- Campo de contraseña -->
          <div class="mb-3">
            <label for="{{ form.contrasena.id_for_label }}" class="form-label">Contraseña</label>
            {% if form.contrasena.errors %}
            {{ form.contrasena|add_class:"form-control is-invalid" }}
            {% else %}
            {{ form.contrasena }}
            {% endif %}
            {% for error in form.contrasena.errors %}
            <div class="invalid-feedback d-block">{{ error }}</div>
            {% endfor %}
          </div>

          <!-- Botón de envío -->
          <button type="submit" class="btn btn-primary w-100 py-2">Entrar</button>

          <div class="text-center mt-3">
            <small class="text-muted">¿No tienes cuenta?
              <a href="{% url 'registrar_usuario' %}">Regístrate aquí</a>
            </small>
          </div>

        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}